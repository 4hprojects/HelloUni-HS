<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DSALGO1 Finals – Part 2 (Matching Type)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- External CSS -->
    <link rel="stylesheet" href="/activity/dsalgo1/css/part2.css">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Tab monitoring script -->
    <script src="/activity/dsalgo1/js/tabMonitor.js"></script>
    
    <style>
        /* Additional inline styles */
        .loading-spinner {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
            margin-right: 8px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .time-remaining {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 10px 15px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            font-weight: 600;
            z-index: 1000;
            border-left: 4px solid #8b5cf6;
        }
        
        @media print {
            .time-remaining, .navigation {
                display: none !important;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Time Remaining Display -->
        <div class="time-remaining" id="timeRemaining">
            <i class="fas fa-clock"></i> Time: <span id="timerDisplay">--:--</span>
        </div>
        
        <!-- Header -->
        <header class="header">
            <h1><i class="fas fa-puzzle-piece"></i> DSALGO1 Finals – Part 2</h1>
            <p class="subtitle">
                This part contains <strong>10 matching items</strong>.  
                Answer all items before moving to the next part. Your answers will be automatically saved.
            </p>
        </header>

        <!-- Student Information Panel -->
        <section class="info-panel">
            <h2><i class="fas fa-user-graduate"></i> Student Information</h2>
            <div class="info-grid">
                <div class="info-item">
                    <span class="info-label">Student ID Number</span>
                    <span class="info-value" id="studentIDNumberDisplay">[loading...]</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Name</span>
                    <span class="info-value" id="studentNameDisplay">[loading...]</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Section</span>
                    <span class="info-value" id="sectionDisplay">[loading...]</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Exam ID</span>
                    <span class="info-value">dsalgo1-finals</span>
                </div>
            </div>
        </section>

        <!-- Main Form -->
        <form id="part2Form">
            <input type="hidden" id="examID" value="dsalgo1-finals">

            <!-- Status Messages -->
            <div id="message" class="message"></div>

            <!-- Matching Type A: Graph Terms -->
            <section class="matching-section" id="section-a">
                <div class="section-header">
                    <div class="section-title">
                        <span class="section-icon">A</span>
                        <h2><i class="fas fa-project-diagram"></i> Matching Type A: Graph Terms</h2>
                    </div>
                    <span class="section-progress">0/5 answered</span>
                </div>
                
                <p class="section-description">
                    Match each term in <strong>Column A</strong> with the correct description in <strong>Column B</strong>.  
                    Choose the letter of the best answer.
                </p>

                <div class="matching-table-container">
                    <table class="matching-table">
                        <thead>
                            <tr>
                                <th style="width: 40%;">Column A (Items 1-5)</th>
                                <th style="width: 60%;">Column B (Answer Choices)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Item 1 -->
                            <tr>
                                <td>
                                    <div class="matching-item">
                                        <span class="item-number">1</span>
                                        <span class="item-text">Vertex</span>
                                    </div>
                                    <div class="dropdown-container">
                                        <select name="m1" id="m1" class="dropdown-select">
                                            <option value="">Select letter</option>
                                            <option value="A">A</option>
                                            <option value="B">B</option>
                                            <option value="C">C</option>
                                            <option value="D">D</option>
                                            <option value="E">E</option>
                                        </select>
                                    </div>
                                </td>
                                <td rowspan="5" class="answer-column">
                                    <div class="answer-list">
                                        <div class="answer-option">
                                            <span class="answer-letter">A</span>
                                            <span class="answer-text">A point or node that represents an object in the graph.</span>
                                        </div>
                                        <div class="answer-option">
                                            <span class="answer-letter">B</span>
                                            <span class="answer-text">A connection between two vertices.</span>
                                        </div>
                                        <div class="answer-option">
                                            <span class="answer-letter">C</span>
                                            <span class="answer-text">A sequence of vertices connected by edges.</span>
                                        </div>
                                        <div class="answer-option">
                                            <span class="answer-letter">D</span>
                                            <span class="answer-text">A path where the first and last vertex are the same.</span>
                                        </div>
                                        <div class="answer-option">
                                            <span class="answer-letter">E</span>
                                            <span class="answer-text">An edge that stores a value like cost, time, or distance.</span>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            
                            <!-- Item 2 -->
                            <tr>
                                <td>
                                    <div class="matching-item">
                                        <span class="item-number">2</span>
                                        <span class="item-text">Edge</span>
                                    </div>
                                    <div class="dropdown-container">
                                        <select name="m2" id="m2" class="dropdown-select">
                                            <option value="">Select letter</option>
                                            <option value="A">A</option>
                                            <option value="B">B</option>
                                            <option value="C">C</option>
                                            <option value="D">D</option>
                                            <option value="E">E</option>
                                        </select>
                                    </div>
                                </td>
                            </tr>
                            
                            <!-- Item 3 -->
                            <tr>
                                <td>
                                    <div class="matching-item">
                                        <span class="item-number">3</span>
                                        <span class="item-text">Path</span>
                                    </div>
                                    <div class="dropdown-container">
                                        <select name="m3" id="m3" class="dropdown-select">
                                            <option value="">Select letter</option>
                                            <option value="A">A</option>
                                            <option value="B">B</option>
                                            <option value="C">C</option>
                                            <option value="D">D</option>
                                            <option value="E">E</option>
                                        </select>
                                    </div>
                                </td>
                            </tr>
                            
                            <!-- Item 4 -->
                            <tr>
                                <td>
                                    <div class="matching-item">
                                        <span class="item-number">4</span>
                                        <span class="item-text">Cycle</span>
                                    </div>
                                    <div class="dropdown-container">
                                        <select name="m4" id="m4" class="dropdown-select">
                                            <option value="">Select letter</option>
                                            <option value="A">A</option>
                                            <option value="B">B</option>
                                            <option value="C">C</option>
                                            <option value="D">D</option>
                                            <option value="E">E</option>
                                        </select>
                                    </div>
                                </td>
                            </tr>
                            
                            <!-- Item 5 -->
                            <tr>
                                <td>
                                    <div class="matching-item">
                                        <span class="item-number">5</span>
                                        <span class="item-text">Weighted edge</span>
                                    </div>
                                    <div class="dropdown-container">
                                        <select name="m5" id="m5" class="dropdown-select">
                                            <option value="">Select letter</option>
                                            <option value="A">A</option>
                                            <option value="B">B</option>
                                            <option value="C">C</option>
                                            <option value="D">D</option>
                                            <option value="E">E</option>
                                        </select>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Matching Type B: Algorithms -->
            <section class="matching-section" id="section-b">
                <div class="section-header">
                    <div class="section-title">
                        <span class="section-icon">B</span>
                        <h2><i class="fas fa-algorithm"></i> Matching Type B: Algorithms and Concepts</h2>
                    </div>
                    <span class="section-progress">0/5 answered</span>
                </div>
                
                <p class="section-description">
                    Match each item in <strong>Column A</strong> with the correct description in <strong>Column B</strong>.  
                    Choose the letter of the best answer.
                </p>

                <div class="matching-table-container">
                    <table class="matching-table">
                        <thead>
                            <tr>
                                <th style="width: 40%;">Column A (Items 6-10)</th>
                                <th style="width: 60%;">Column B (Answer Choices)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Item 6 -->
                            <tr>
                                <td>
                                    <div class="matching-item">
                                        <span class="item-number">6</span>
                                        <span class="item-text">Kruskal's algorithm</span>
                                    </div>
                                    <div class="dropdown-container">
                                        <select name="m6" id="m6" class="dropdown-select">
                                            <option value="">Select letter</option>
                                            <option value="F">F</option>
                                            <option value="G">G</option>
                                            <option value="H">H</option>
                                            <option value="I">I</option>
                                            <option value="J">J</option>
                                        </select>
                                    </div>
                                </td>
                                <td rowspan="5" class="answer-column">
                                    <div class="answer-list">
                                        <div class="answer-option">
                                            <span class="answer-letter">F</span>
                                            <span class="answer-text">Picks edges in increasing order of weight and skips those that form a cycle.</span>
                                        </div>
                                        <div class="answer-option">
                                            <span class="answer-letter">G</span>
                                            <span class="answer-text">Starts from one vertex and keeps attaching the cheapest edge that connects a new vertex.</span>
                                        </div>
                                        <div class="answer-option">
                                            <span class="answer-letter">H</span>
                                            <span class="answer-text">Explores a graph level by level, visiting all reachable vertices from a start vertex.</span>
                                        </div>
                                        <div class="answer-option">
                                            <span class="answer-letter">I</span>
                                            <span class="answer-text">Explores level by level using only outgoing edges and arrow direction.</span>
                                        </div>
                                        <div class="answer-option">
                                            <span class="answer-letter">J</span>
                                            <span class="answer-text">A spanning tree that connects all vertices with the smallest possible total edge cost.</span>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            
                            <!-- Item 7 -->
                            <tr>
                                <td>
                                    <div class="matching-item">
                                        <span class="item-number">7</span>
                                        <span class="item-text">Prim's algorithm</span>
                                    </div>
                                    <div class="dropdown-container">
                                        <select name="m7" id="m7" class="dropdown-select">
                                            <option value="">Select letter</option>
                                            <option value="F">F</option>
                                            <option value="G">G</option>
                                            <option value="H">H</option>
                                            <option value="I">I</option>
                                            <option value="J">J</option>
                                        </select>
                                    </div>
                                </td>
                            </tr>
                            
                            <!-- Item 8 -->
                            <tr>
                                <td>
                                    <div class="matching-item">
                                        <span class="item-number">8</span>
                                        <span class="item-text">BFS on an undirected graph</span>
                                    </div>
                                    <div class="dropdown-container">
                                        <select name="m8" id="m8" class="dropdown-select">
                                            <option value="">Select letter</option>
                                            <option value="F">F</option>
                                            <option value="G">G</option>
                                            <option value="H">H</option>
                                            <option value="I">I</option>
                                            <option value="J">J</option>
                                        </select>
                                    </div>
                                </td>
                            </tr>
                            
                            <!-- Item 9 -->
                            <tr>
                                <td>
                                    <div class="matching-item">
                                        <span class="item-number">9</span>
                                        <span class="item-text">BFS on a directed graph</span>
                                    </div>
                                    <div class="dropdown-container">
                                        <select name="m9" id="m9" class="dropdown-select">
                                            <option value="">Select letter</option>
                                            <option value="F">F</option>
                                            <option value="G">G</option>
                                            <option value="H">H</option>
                                            <option value="I">I</option>
                                            <option value="J">J</option>
                                        </select>
                                    </div>
                                </td>
                            </tr>
                            
                            <!-- Item 10 -->
                            <tr>
                                <td>
                                    <div class="matching-item">
                                        <span class="item-number">10</span>
                                        <span class="item-text">Minimum Cost Spanning Tree (MCST)</span>
                                    </div>
                                    <div class="dropdown-container">
                                        <select name="m10" id="m10" class="dropdown-select">
                                            <option value="">Select letter</option>
                                            <option value="F">F</option>
                                            <option value="G">G</option>
                                            <option value="H">H</option>
                                            <option value="I">I</option>
                                            <option value="J">J</option>
                                        </select>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Navigation & Submit -->
            <nav class="navigation">
                <div class="controls">
                    <a href="/activity/dsalgo1/dsalgo1-finals-part1" class="btn btn-secondary">
                        <i class="fas fa-arrow-left"></i> Back to Part 1
                    </a>
                    
                    <button type="button" class="btn btn-secondary" id="reviewBtn">
                        <i class="fas fa-list-check"></i> Review Answers
                    </button>
                    
                    <div class="progress-bar">
                        <div class="progress-info">
                            <span id="answeredCount">0</span> of 10 answered
                            <span id="progressPercentage">0%</span>
                        </div>
                        <div class="progress-track">
                            <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-primary" id="submitBtn">
                        <i class="fas fa-paper-plane"></i> Save Part 2 and Go to Part 3 (0/10)
                    </button>
                </div>
                
                <!-- Quick navigation hint -->
                <div style="text-align: center; margin-top: 10px; font-size: 0.875rem; color: #666;">
                    <small>Tip: Use Tab to navigate between items, Ctrl+S to save</small>
                </div>
            </nav>
        </form>
    </div>

    <!-- Timer Script (Optional) -->
    <script>
        // Timer functionality (60 minutes for the exam)
        let examTimer = 60 * 60;
        const timerDisplay = document.getElementById('timerDisplay');
        const timeRemaining = document.getElementById('timeRemaining');
        
        function updateTimer() {
            if (!timerDisplay) return;
            
            const minutes = Math.floor(examTimer / 60);
            const seconds = examTimer % 60;
            timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            if (examTimer <= 600) { // 10 minutes
                timeRemaining.style.borderLeftColor = '#ef4444';
                timeRemaining.style.color = '#ef4444';
                
                if (examTimer <= 300) { // 5 minutes
                    timeRemaining.style.opacity = (Math.sin(Date.now() / 500) + 1) / 2;
                }
            }
            
            if (examTimer > 0) {
                examTimer--;
            }
        }
        
        let timerInterval;
        document.addEventListener('DOMContentLoaded', () => {
            timerInterval = setInterval(updateTimer, 1000);
        });
    </script>

    <!-- External JavaScript -->
    <script src="/activity/dsalgo1/js/part2.js" defer></script>
</body>
</html>
