<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Activity Reports | HelloUniversity Admin</title>
    <link rel="stylesheet" href="css/activity_reports.css">
</head>
<body>
    <header>
        <h1>Activity Reports</h1>
        <a href="admin_dashboard.html" class="search-button" style="margin-left: 2rem;">← Back to Dashboard</a>
    </header>
    <main style="margin-top: 80px;">
        <section class="content-section">
            <div class="content-inner">
                <h2>Filter & Search</h2>
                <form id="filterForm" class="search-container" style="margin-bottom: 1rem;">
                    <input type="text" id="searchInput" class="search-input" placeholder="Search member, email, or URL">
                    <input type="date" id="startDateInput" class="search-input" placeholder="Start Date">
                    <input type="date" id="endDateInput" class="search-input" placeholder="End Date">
                    <button type="submit" class="search-button">Apply</button>
                    <button type="button" id="resetFiltersBtn" class="search-button">Reset</button>
                </form>
                <div style="margin-bottom: 1rem;">
                    <button id="downloadXlsxBtn" class="search-button">Download XLSX</button>
                    <button id="downloadPdfBtn" class="search-button">Download PDF</button>
                </div>
                <div class="table-container">
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: #f3f4f6;">
                                <th style="padding: 0.75rem; text-align: left; border-bottom: 2px solid #e5e7eb;">Submission #</th>
                                <th style="padding: 0.75rem; text-align: left; border-bottom: 2px solid #e5e7eb;">Group #</th>
                                <th style="padding: 0.75rem; text-align: left; border-bottom: 2px solid #e5e7eb;">Members</th>
                                <th style="padding: 0.75rem; text-align: left; border-bottom: 2px solid #e5e7eb;">Project URL</th>
                                <th style="padding: 0.75rem; text-align: left; border-bottom: 2px solid #e5e7eb;">Email</th>
                                <th style="padding: 0.75rem; text-align: left; border-bottom: 2px solid #e5e7eb;">Submitted At</th>
                                <th style="padding: 0.75rem; text-align: left; border-bottom: 2px solid #e5e7eb;">Status</th>
                                <th style="padding: 0.75rem; text-align: left; border-bottom: 2px solid #e5e7eb;">Checklist Summary</th>
                                <th style="padding: 0.75rem; text-align: left; border-bottom: 2px solid #e5e7eb;">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="reportsTableBody">
                            <!-- Rows will be inserted here by JS -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    </main>

    <!-- Details Modal -->
    <div id="detailsModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="detailsModalTitle">
        <div class="modal-content">
            <h3 id="detailsModalTitle">Checklist Details</h3>
            <div id="detailsBody"></div>
            <div class="modal-actions">
                <button id="closeDetailsBtn" class="search-button">Close</button>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="deleteModalTitle">
        <div class="modal-content">
            <h3 id="deleteModalTitle">Confirm Deletion</h3>
            <p>Type the following string to confirm:</p>
            <pre id="deleteToken" style="background:#f3f4f6;padding:0.5rem;border-radius:4px;"></pre>
            <input id="deleteInput" class="search-input" placeholder="Retype token">
            <p id="deleteStatus" style="font-size:0.85rem;color:#6b7280;">Waiting for input…</p>
            <div class="modal-actions">
                <button id="cancelDeleteBtn" class="search-button">Cancel</button>
                <button id="confirmDeleteBtn" class="search-button" disabled>Delete</button>
            </div>
        </div>
    </div>

    <script src="js/activity_reports.js"></script>
</body>
</html>
